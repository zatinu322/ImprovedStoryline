<?xml version="1.0" encoding="windows-1251" standalone="yes" ?>
<triggers>
	<trigger Name="GlobalVar" active="1">
		<event timeout="0.1" eventid="GE_TIME_PERIOD" />
		<script>
		    SetVar("KnownMap",0)
		    SetVar("FelixRevenge",0)
		    SetVar("FelixChoise",0)

			if getObj("Ruin") then
				SetVar("KrayCity", 1)
			else
				SetVar("KrayCity", 0)
			end

		    trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trFirstRolik" active="1">
		<event timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			IMPULSES = GET_GLOBAL_OBJECT "IMPULSES"

			IMPULSES:BindKey1( "GS_CINEMATIC",	"KEY_SPACE",	"IM_CINEMATIC_SKIP" )

			g_ObjCont:SetGameTime( 10, 0, 10, 9, 2234 )

			SetRadarUpgrade(1)

			Fly("start_game", CINEMATIC_NO_AIM, 0, 68, 1, 1 )
			StartCinematic()
			UpdateCinematic( 1 )

			AddCinematicMessage( 77771, 0.1)

			TActivate("trFirstRolikMusic")
			TActivate("StartOpening")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trFirstRolikMusic" active="0">
		<event timeout="0.25" eventid="GE_TIME_PERIOD" />
		<script>
			PlayCustomMusic("Bio07unloop")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="SpawnAnalDestroyers" active="0">
		<event        timeout="0.01"        eventid="GE_TIME_PERIOD" />
		<script>
			TeamCreate("BezummecCars",1062,CVector(3724.793, 343.032, 2817.423),{"CoolBelaz", "CoolBelaz_2"}, nil, 0, Quaternion(0.013, -0.093, -0.011, 0.996))
			local bezum = GetEntityByName("BezummecCars")
			if bezum then
				bezum:GetVehicle(0):setGodMode(1)
				bezum:GetVehicle(1):setGodMode(1)
			end
			SetTolerance(1100,1062,RS_NEUTRAL)
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="End3" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="Ending3" />
		<script>
			CompleteQuestIfTaken("CheckTheEast")
            
            local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetCustomLinearVelocity( 0 )
				vehPlayer:SetThrottle( 0 )
				vehPlayer:setImmortalMode(1)
			end
			
			TActivate("End32")
			
			TDeactivate( "triggerExitToMap41" )
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="End32" active="0">
		<event timeout="3" eventid="GE_TIME_PERIOD" />
		<script>
			SetWeather(0)
			
			SaveAllToleranceStatus(RS_NEUTRAL)
			
			PlayCustomMusic("Sadness1")

			Fly("AltEnding3", CINEMATIC_NO_AIM, 0, 13, 1, 1 )
			StartCinematic()

			AddCinematicMessage( 77773, 1)

			TActivate("End33")
			TActivate("End323")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="End323" active="0">
		<event eventid="GE_CINEMATIC_ENTER_FADE_IN" ObjName="Player1" />
		<script>
			CreateVehicleEx("CoolBelaz_2","Belik1",CVector(3357.498, 368.414, 3297.456), 1062)
			local bel1 = GetEntityByName("Belik1")
			if bel1 then
				bel1:SetRotation(Quaternion(-0.007, 0.738, -0.014, 0.675))
				bel1:SetExternalPathByName("Tupik_path1")
				bel1:SetCruisingSpeed(20)
			end
			
			CreateVehicleEx("CoolBelaz","Belik2",CVector(3375.370, 364.188, 3219.041), 1002)
			local bel2 = GetEntityByName("Belik2")
			if bel2 then
				bel2:SetRotation(Quaternion(0.018, -0.019, -0.001, -1.000))
				bel2:SetExternalPathByName("Tupik_path2")
				bel2:SetCruisingSpeed(15)
			end

			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetCustomControlEnabled( true )
				vehPlayer:SetCustomLinearVelocity( 0 )
				vehPlayer:SetThrottle( 0 )
				vehPlayer:SetCustomControlEnabled( false )
			end

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="End33" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			RestoreAllToleranceStatus()

			SpawnMessageBox("5977")

			ShowDeathMenu()

			TActivate("trBenDialogActivate")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="StartGame" active="0">
		<event flypath="start_rolik1" eventid="GE_START_CINEMATIC_FLY" ObjName="Player1" />
		<script>
		
			RestoreAllToleranceStatus()

			PlayCustomMusic("QuietDialogue01")

			CreateNewDummyObject( "dweller_player", "hero1Dw", -1, -1, CVector(3343.495, 368.166, 3304.762), Quaternion(0.0000, -0.9610, 0.0000, -0.2760), 0)
			CreateNewDummyObject( "dweller_father", "fatherDw", -1, -1, CVector(3342.860, 368.167, 3303.460), Quaternion(0.0000, 0.4320, 0.000, 0.9020), 2)

			getObj("fatherDw"):SetNodeAction(AT_RESERVED1) 
			getObj("fatherDw"):SetNextForAnimation(AT_RESERVED1, AT_STAND1) 

			AddCinematicMessage( 1, 2.5)
			AddCinematicMessage( 2, 0.25 )
			AddCinematicMessage( 3, 0.25  )

			TActivate("StartRolikGame")


			trigger:Deactivate()    
		</script>
	</trigger>


	<trigger Name="StartOpening" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			SetWeather(0)

			GameFiltersUse()
			PlayCustomMusic("GreenLeaves")
			
			SaveAllToleranceStatus(RS_NEUTRAL)

			Fly("OpeningOpen", CINEMATIC_NO_AIM, 0, 12, 1, 0 )
			Fly("OpeningOpen2", CINEMATIC_NO_AIM, 0, 11, 0, 0 )
			Fly("Opening1", CINEMATIC_NO_AIM, 0, 8, 0, 0 )
			Fly("Opening11", CINEMATIC_NO_AIM, 0, 7.5, 0, 0 )
			Fly("Opening2", CINEMATIC_NO_AIM, 0, 8, 0, 0 )
			Fly("Opening22", CINEMATIC_NO_AIM, 0, 8, 0, 0 )
			Fly("Opening3", CINEMATIC_NO_AIM, 0, 8, 0, 0 )
			Fly("Opening4", CINEMATIC_NO_AIM, 0, 8, 0, 0 )
			Fly("Opening5", CINEMATIC_NO_AIM, 0, 16, 0, 0 )
			Fly("Opening_End", CINEMATIC_NO_AIM, 0, 25, 0, 0 )
			Fly("start_rolik1", CINEMATIC_NO_AIM, 0, 35, 0, 0 )
			Fly("start_rolik11", CINEMATIC_NO_AIM, 0, 1.5, 0, 0 )
			Fly("start_rolik5", CINEMATIC_NO_AIM, 0, 13, 0, 0 )
			Fly("start_rolik6", CINEMATIC_NO_AIM, 0, 14, 0, 0 )
			Fly("start_rolik2", CINEMATIC_NO_AIM, 0, 6, 0, 0 )
			Fly("start_rolik3", CINEMATIC_NO_AIM, 0, 6, 0, 0 )
			Fly("start_rolik8", CINEMATIC_NO_AIM, 0, 13, 0, 0 )
			Fly("start_rolik4", CINEMATIC_NO_AIM, 0, 5, 0, 1 )
			StartCinematic()
			UpdateCinematic(1)

			TActivate( "OpeningOpen1" )
			TActivate( "Opening1" )
			TActivate( "Opening11" )
			TActivate( "Opening2" )
			TActivate( "Opening22" )
			TActivate( "Opening3" )
			TActivate( "Opening4" )
			TActivate( "Opening5" )
			TActivate( "trOpeningEnd" )
			TActivate( "StartGame" )
			TActivate( "ROLIK15" )
			TActivate( "ROLIK16" )
			TActivate( "ROLIK12" )
			TActivate( "ROLIK13" )
			TActivate( "ROLIK18" )
			TActivate( "ROLIK14" )
			TActivate( "Finish00" )

			AddCinematicMessage( 10, 1)
			AddCinematicMessage( 11, 0.25 )
			
			
			TakeQuest( "Buyer_Quest1" )

			AddQuestItem("quest_potato")

			AddHistory( "r1_Firsy_History_00" )
			AddFadingMsgId( "fm_history_got" )
			
			CreateNewDummyObject( "quest_medicine_box", "medicine_box", -1, -1, CVector(2607.000, 322.000, 1614.000), Quaternion(0.0000, 0.0000, 0.0000, 1.0000), 0)

			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="OpeningOpen1" active="0">
		<event flypath="OpeningOpen2" eventid="GE_START_CINEMATIC_FLY" ObjName="Player1" />
		<script>
			AddCinematicMessage( 12, 0.25  )
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="Opening1" active="0">
		<event flypath="Opening1" eventid="GE_START_CINEMATIC_FLY" ObjName="Player1" />
		<script>

			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetGamePositionOnGround( CVector(517.976, 289.554, 336.855))
				vehPlayer:SetRotation(Quaternion(0.050, 0.091, -0.004, 0.995))
				vehPlayer:SetSkin(2)
				vehPlayer:LimitMaxSpeed(15)
				vehPlayer:SetExternalPathByName("LisaPath1")
				vehPlayer:SetCustomLinearVelocity( 10 )
				vehPlayer:SetBelong(1042)
			end
			
			AddCinematicMessage( 13, 0.1  )
			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="Opening11" active="0">
		<event flypath="Opening11" eventid="GE_START_CINEMATIC_FLY" ObjName="Player1" />
		<script>

			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetGamePositionOnGround( CVector(708.568, 276.223, 670.710))
				vehPlayer:SetRotation(Quaternion(-0.030, 0.454, -0.010, 0.891))
				vehPlayer:SetExternalPathByName("LisaPath11")
				vehPlayer:SetCustomLinearVelocity( 10 )
			end

			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="Opening2" active="0">
		<event flypath="Opening2" eventid="GE_START_CINEMATIC_FLY" ObjName="Player1" />
		<script>
						
			CreateNewDummyObject( "dweller_felix", "felix01", -1, -1, CVector(467.180, 306.161, 1812.266), Quaternion(-0.000, -0.925, 0.001, -0.381), 1)
			
			getObj("felix01"):SetNodeAction(AT_RESERVED1)
			getObj("felix01"):SetNextForAnimation(AT_RESERVED1, AT_STAND1) 
			
			TeamCreate("FelixVehicle1",1013,CVector(470.355, 306.646, 1814.503),{"FelixVehicle"})
			
			local vehFelix = GetEntityByName("FelixVehicle1_vehicle_0")
			if vehFelix then
				vehFelix:SetRotation(Quaternion(-0.010, -0.914, 0.001, -0.406))
				vehFelix:SetSkin(4)
			end
			
			TeamCreate("FelixGang",1013,CVector(475.182, 305.881, 1797.556),{"Sml101", "Scout02"})

			local FelixGang1 = GetEntityByName("FelixGang_vehicle_0")
			if FelixGang1 then
				FelixGang1:SetRotation(Quaternion(0.002, 0.159, 0.038, -0.987))
				FelixGang1:SetGamePositionOnGround( CVector(476.224, 306.309, 1799.276))
			end

			local FelixGang2 = GetEntityByName("FelixGang_vehicle_1")
			if FelixGang2 then
				FelixGang2:SetRotation(Quaternion(0.048, 0.758, 0.048, -0.649))
				FelixGang2:SetGamePositionOnGround( CVector(480.517, 305.814, 1808.392))
			end

			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="Opening22" active="0">
		<event flypath="Opening22" eventid="GE_START_CINEMATIC_FLY" ObjName="Player1" />
		<script>
		
			TeamCreate("Bolnoy",1002,CVector(2464.338, 322.302, 1643.903),{"Sml101"})

			local vehBol = GetEntityByName("Bolnoy_vehicle_0")
			if vehBol then
				vehBol:SetRotation(Quaternion(0.012, 0.604, 0.014, 0.796))
				vehBol:SetExternalPathByName("BolnoyPath1")
				vehBol:SetCustomLinearVelocity( 10 )
			end
			
			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetExternalPathByName("LisaPath11")
				vehPlayer:PlaceToEndOfPath("LisaPath11")
				vehPlayer:SetGamePositionOnGround(CVector(2599.210, 320.931, 1867.919))
				vehPlayer:SetCustomLinearVelocity( 0 )
			end

			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="Opening3" active="0">
		<event flypath="Opening3" eventid="GE_START_CINEMATIC_FLY" ObjName="Player1" />
		<script>

			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetGamePositionOnGround(CVector(1200.022, 293.044, 1651.715))
				vehPlayer:SetRotation(Quaternion(0.014, 0.166, -0.017, 0.986))
				vehPlayer:SetExternalPathByName("LisaPath21")
				vehPlayer:SetCustomLinearVelocity( 10 )
			end

			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="Opening4" active="0">
		<event flypath="Opening4" eventid="GE_START_CINEMATIC_FLY" ObjName="Player1" />
		<script>
			
			TeamCreate("Venchik",1008,CVector(2057.125, 356.855, 2778.083),{"Bug02"})
			
			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetExternalPathByName("LisaPath21")
				vehPlayer:PlaceToEndOfPath("LisaPath21")
				vehPlayer:SetCustomControlEnabled( true )
				vehPlayer:SetCustomLinearVelocity( 0 )
				vehPlayer:SetThrottle( 0 )
				vehPlayer:SetCustomControlEnabled( false )
--				vehPlayer:SetGamePositionOnGround(CVector(1916.349, 306.917, 2648.321))
				vehPlayer:SetPosition( CVector(1962.087, 308.468, 2695.188))
				vehPlayer:SetCustomLinearVelocity( 0 )
			end

			local vehVen = GetEntityByName("Venchik_vehicle_0")
			if vehVen then
				vehVen:SetRotation(Quaternion(0.068, 0.918, 0.092, 0.379))
				vehVen:SetExternalPathByName("VenchikPath1")
				vehVen:SetCustomLinearVelocity( 10 )
				vehVen:SetSkin(1)
			end
			
			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="Opening5" active="0">
		<event flypath="Opening5" eventid="GE_START_CINEMATIC_FLY" ObjName="Player1" />
		<script>
			
			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetGamePositionOnGround(CVector(1276.246, 289.375, 2724.471))
				vehPlayer:SetRotation(Quaternion(-0.003, 0.092, -0.058, -0.994))
				vehPlayer:SetExternalPathByName("LisaPath3")
				vehPlayer:SetCustomLinearVelocity( 10 )
			end
			
			
			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="trOpeningEnd" active="0">
		<event flypath="Opening_End" eventid="GE_START_CINEMATIC_FLY" ObjName="Player1" />
		<script>
		
			AddPlayerNewVehicle("Bug01")
			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetGamePositionOnGround( CVector(3355.000, 368.500, 3308.000))
				vehPlayer:SetRotation(Quaternion(-0.007, 1.000, -0.010, 0.021))
				vehPlayer:SetSkin(0)
				vehPlayer:UnlimitMaxSpeed()
				vehPlayer:SetBelong(1100)
			end


			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="CreateGloohoe" active="1">
		<event 	timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			CreateNewDummyObject( "workshop2",	"hs01", -1, -1, CVector(3355.214,  368, 3322.013), Quaternion(0.0000, -0.9998, 0.0000, -0.0196),1 )
			CreateNewDummyObject( "house1",	"hs02", -1, -1, CVector(3396.989,  370, 3311.444), Quaternion(0.0000, -0.7880, 0.0000, 0.6157),1 )
			CreateNewDummyObject( "house2",	"hs03", -1, -1, CVector(3391.955,  368, 3280.512), Quaternion(0.0000, -0.5682, 0.0000, 0.8229),1 )
			CreateNewDummyObject( "townhall", "hs04", -1, -1, CVector(3333.442, 368, 3299.207), Quaternion(0.0000, 0.6820, 0.0000, 0.7314),1 )
			CreateNewDummyObject( "house3",	"hs05", -1, -1, CVector(3339.008, 368, 3288.451), Quaternion(0.0000, 0.6478, 0.0000, 0.7618),1 )
			CreateNewDummyObject( "house2",	"hs06", -1, -1, CVector(3337.264, 368, 3311.947), Quaternion(0.0000, 0.0000, 0.0000, 1.0000),1 )
			CreateNewDummyObject( "house3",	"hs07", -1, -1, CVector(3390.944, 371, 3329.290), Quaternion(0.0000, 0.928, 0.0000, -0.3726),1 )

			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="DestroyGloohoe" active="0">
		<event 	timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			local town = GetEntityByName ("TheGloohoe")
			if town then
				town:SetOpenGateToPlayer(false)
			end

			local hs = GetEntityByName ("hs01")
			if hs then hs:Remove() end
			local hs = GetEntityByName ("hs02")
			if hs then hs:Remove() end
			local hs = GetEntityByName ("hs03")
			if hs then hs:Remove() end
			local hs = GetEntityByName ("hs04")
			if hs then hs:Remove() end
			local hs = GetEntityByName ("hs05")	
			if hs then hs:Remove() end
			local hs = GetEntityByName ("hs06")
			if hs then hs:Remove() end
			local hs = GetEntityByName ("hs07")
			if hs then hs:Remove() end

			CreateNewDummyObject( "ruins1", "hs01", -1, -1, CVector(3355.214,  368, 3322.013), Quaternion(0.0000, -0.9998, 0.0000, -0.0196) )
			CreateNewDummyObject( "ruins2", "hs02", -1, -1, CVector(3396.989,  370, 3311.444), Quaternion(0.0000, -0.7880, 0.0000, 0.6157) )
			CreateNewDummyObject( "ruins3", "hs03", -1, -1, CVector(3391.955,  368, 3280.512), Quaternion(0.0000, -0.5682, 0.0000, 0.8229) )
			CreateNewDummyObject( "ruins1", "hs04", -1, -1, CVector(3333.442, 368, 3299.207), Quaternion(0.0000, 0.6820, 0.0000, 0.7314) )
			CreateNewDummyObject( "ruins2", "hs05", -1, -1, CVector(3339.008, 368, 3288.451), Quaternion(0.0000, 0.6478, 0.0000, 0.7618) )
			CreateNewDummyObject( "ruins3", "hs06", -1, -1, CVector(3337.264, 368, 3311.947), Quaternion(0.0000, 0.0000, 0.0000, 1.0000) )
			CreateNewDummyObject( "ruins3", "hs07", -1, -1, CVector(3390.944, 371, 3329.290), Quaternion(0.0000, 0.928, 0.0000, -0.3726) )

			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE01", -1, -1, CVector(3336, 360, 3305), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE02", -1, -1, CVector(3309, 360, 3233), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE03", -1, -1, CVector(3321, 360, 3363), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE04", -1, -1, CVector(3393, 360, 3278), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE05", -1, -1, CVector(3337, 360, 3235), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE06", -1, -1, CVector(3338, 360, 3290), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))

			trigger:Deactivate()    
		</script>
	</trigger>





	<trigger Name="GAMER_FUN" active="1">
		<event timeout="300" eventid="GE_TIME_PERIOD" />
		<script>
			local RandModel = {	"r1m1_bug01",
							"r1m1_bug02",
							"r1m1_bug03",
							"r1m1_sml01",
							"r1m1_sml02",
							"r1m1_sml03",
							"r1m1_sml04",
							"r1m1_scout01",
							"r1m1_scout02",
							"r1m1_scout03"
			}

			local RandCoordStart = {	CVector(498,288,246),
								CVector(2080,314,3718)
			}

			local RandBelong = {	1002,
							1003
			}

			local r4 = random(2)
			local r

			if r4 == 1 then	r = 10
			else	r = 3
			end

			local r1 = random(r)
			local r2 = random(2)
			local nom = random(1000)

			TeamCreateWithWarez("BrodiagaCar"..nom,RandBelong[r4], RandCoordStart[r2], {RandModel[r1]}, nil, 1)
			
			local RandWay = {		CVector(1318, 287, 2841),
							CVector(1129, 289, 1375),
							CVector(1907, 318, 2429),
							CVector(2692, 329, 1279),
							CVector(3072, 319, 920),
							CVector(3042, 317, 417),
							CVector(2339, 302, 571)
			}

			local r1 = random(2)
			local r2 = random(7)
			local r3 = random(7)
			local r4 = random(7)
			local r5 = random(7)

			local tt = GetEntityByName("BrodiagaCar"..nom)
			if tt then
				tt:StackOpen()
				tt:SetDestination( RandWay[r1] )
				tt:SetDestination( RandWay[r2] )
				tt:SetDestination( RandWay[r3] )
				tt:SetDestination( RandWay[r4] )
				tt:SetDestination( RandWay[r5] )
				tt:StackLoop()
				tt:StackClose()
			end

		</script>
	</trigger>





	<trigger Name="REVOLUTIONTIME" active="0">
		<event timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			TeamCreate("Punishers",1051,CVector(3168, 319, 1144),{"PetroBug","NazarBug"},CVector(2845,330,1333), 1)

			local terr = TeamCreate("Terrorists",1013,CVector(2845,336,1319),{"Fighter01","r1m1_bug02","Scout03"}, nil, 1)
			terr:SetProperty ("TeamTacticPrototype", "TeamTacticTerroristsR1M1")
			terr:_AdjustBehaviour ()

			TActivate("REVOLUTIONTIMEEND")
			TActivate("REVOLUTIONTIMEDEAD")

			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="REVOLUTIONTIMEDEAD" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="Punishers" />
		<script>
			FailQuest("d_PunishBandits_Quest")
			AddImportantFadingMsg( "Петро погиб. Теперь вам не стоит расчитывать на награду." )
			TDeactivate("REVOLUTIONTIMEEND")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="REVOLUTIONTIMEEND" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="Terrorists" />
		<script>
			if IsQuestTaken("d_PunishBandits_Quest") then
				CompleteQuest( "d_PunishBandits_Quest" )

				CinemaFiltersUse()

				SaveAllToleranceStatus(RS_NEUTRAL)

				local Plf = GetPlayerVehicle()
				local PlfID = GetPlayerVehicleId()
				local PlfCoor = Plf:GetPosition()
				PlfCoor.y = PlfCoor.y + 25*0.74
				PlfCoor.z = PlfCoor.z + 25*0.74

				Plf:SetCustomControlEnabled( true )
				Plf:SetCustomLinearVelocity( 0 )
				Plf:SetThrottle( 0 )
				Plf:SetCustomControlEnabled( false )

				FlyAround(1, 0, 25, 6, PlfCoor, PlfID, 1, 1 )
				StartCinematic()
				AddCinematicMessage( 2222, 1 )

				TActivate( "REVOLUTIONTIMEENDFade" )
				TActivate( "REVOLUTIONTIMEEND_EndCinema" )
				TDeactivate("REVOLUTIONTIMEEND")
				TDeactivate("REVOLUTIONTIMEDEAD")

				trigger:Deactivate() 
			else
				trigger:Deactivate() 
			end
		</script>
	</trigger>

	<trigger Name="REVOLUTIONTIMEENDFade" active="0">
		<event eventid="GE_CINEMATIC_ENTER_FADE_IN" ObjName="Player1" />
		<script>
			local FVehicle = GetEntityByName("Punishers_vehicle_0")
			if FVehicle then FVehicle:Remove() end
			local FVehicle = GetEntityByName("Punishers_vehicle_1")
			if FVehicle then FVehicle:Remove() end

			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="REVOLUTIONTIMEEND_EndCinema" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			RestoreAllToleranceStatus()

			trigger:Deactivate()    
		</script>
	</trigger>


	<trigger Name="LISA1" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="SvalkaQ" />
		<script>
				CompleteQuest( "d_Village1_Quest" )

				TActivate( "RolikBegin_LISA1" )

				trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="LISA2" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="LukoilQ" />
		<script>
				CompleteQuest( "d_Village3_Quest" )

				TActivate( "RolikBegin_LISA2" )

				trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="LISA3" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="SosnovkaQ" />
		<script>
				CompleteQuest( "d_Village2_Quest" )

				TActivate( "RolikBegin_LISA3" )

				trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="LISA4" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="TheOilVillageQ" />
		<script>
			if GetVar("KrayCity").AsInt == 0 then
				CompleteQuest("d_Village1_NoKC_Quest")
				TActivate("LISA6")
			elseif GetVar("KrayCity").AsInt == 1 then
				CompleteQuest( "d_Village4_Quest" )
				TActivate("LISA5")
			end

			TActivate( "RolikBegin_LISA5" )

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="LISA5" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="RuinQ" />
		<script>
			CompleteQuest( "d_Village5_Quest" )

			TActivate( "RolikBegin_LISA4" )

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="LISA6" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="TheContraQ" />
		<script>
			if GetVar("KrayCity").AsInt == 0 then
				CompleteQuest("d_Village2_NoKC_Quest")
				TActivate("LISA8")
			elseif GetVar("KrayCity").AsInt == 1 then
				CompleteQuest( "d_Village6_Quest" )
				TActivate("LISA7")
			end

			TActivate( "RolikBegin_LISA6" )

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="LISA7" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="KolhozQ" />
		<script>
			CompleteQuest( "d_Village7_Quest" )

			TActivate( "RolikBegin_LISA7" )

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="LISA8" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="TheFreedomQ" />
		<script>
			if GetVar("KrayCity").AsInt == 0 then
				CompleteQuest("d_Village3_NoKC_Quest")
			elseif GetVar("KrayCity").AsInt == 1 then
				CompleteQuest( "d_Village8_Quest" )
			end

			TActivate ("RolikBegin_Lisa8")

			AddHistory( "r1_Three_Villages_00" )
			AddFadingMsgId( "fm_history_got" )

			TActivate("DestroyGloohoe")
 			TActivate("RETURN_TO_FATHER")
 			TDeactivate("trZapretGluhoeStart")

 			TakeQuest("TalkWithFather_Quest")

			trigger:Deactivate() 
		</script>
	</trigger>





	<trigger Name="METALFELIX" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="FelixSouthLoc" />
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="FelixSouthLoc2" />
		<script>
			if IsQuestComplete("Buyer_Quest1") and (IsQuestComplete("d_Lisa_Quest") or IsQuestComplete("d_Lisa_Quest_NoKC")) then
				TActivate( "RolikBegin_Felix1")

				trigger:Deactivate() 
			end
		</script>
	</trigger>

	<trigger Name="METALFELIXDIE1" active="0">
		<event eventid="GE_VEHICLE_WITHOUT_HEALTH" ObjName="FelixBanditCars_vehicle_0" />
		<event eventid="GE_OBJECT_LEAVES_LOCATION" ObjName="FelixSouthLoc2" />
		<script>
			CinemaFiltersUse()

			SaveAllToleranceStatus(RS_NEUTRAL)

			local Plf = GetPlayerVehicle()
			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			Plf:SetCustomControlEnabled( true )
			Plf:SetCustomLinearVelocity( 0 )
			Plf:SetThrottle( 0 )
			Plf:SetCustomControlEnabled( false )

			FlyAround( 1, 0, 35, 10, PlfCoor, PlfID, 1, 1 )
			StartCinematic()

			AddCinematicMessage( 1134, 1 )

			TActivate( "METALFELIXDIE1ENDROLIK" )

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="METALFELIXDIE1ENDROLIK" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			RestoreAllToleranceStatus()

			local FVehicle = GetEntityByName("FelixBanditCars_vehicle_0")
			if FVehicle then FVehicle:Remove() end

			local FVehicle = GetEntityByName("FelixBanditCarsBand_vehicle_0")
			if FVehicle then FVehicle:Remove() end

			local FVehicle = GetEntityByName("FelixBanditCarsBand_vehicle_1")
			if FVehicle then FVehicle:Remove() end

			AddHistory( "r1_First_Felix_Meet_00" )
			AddFadingMsgId( "fm_history_got" )

			SetCameraBehindPlayerVehicle()

			trigger:Deactivate() 
		</script>
	</trigger>




	<trigger Name="RETURN_TO_FATHER" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="TheGloohoeQ" />
		<script>
			if IsQuestItemPresent( "FarmerDik_P" ) then
				RemoveQuestItem("FarmerDik_P")
			end

			if  (IsQuestComplete("d_Lisa_Quest") or IsQuestComplete("d_Lisa_Quest_NoKC")) and IsQuestComplete("Buyer_Quest1") then
				local town = GetEntityByName ("TheGloohoe")
				if town then
					town:SetRuined(true)
				end

				TActivate("RolikBegin_Father")

				CompleteQuest( "TalkWithFather_Quest" )
				TakeQuest( "BenSouth_Quest" )

				AddHistory( "r1_After_Gloohoe_To_Ben_01" )
				AddHistory( "r1_After_Letter_00" )
				AddFadingMsgId( "fm_history_got" )

				AddQuestItem("quest_start_father_letter")
				AddQuestItem("quest_disk_1")

				AddFadingMsgByStrIdFormatted( "fm_player_add_thing", "quest_start_father_letter")
				AddFadingMsgByStrIdFormatted( "fm_player_add_thing", "quest_disk_1")

				FailQuestIfTaken( "BackToTroickoe" )
				FailQuestIfTaken( "WorkGiver_Quest1" )
				FailQuestIfTaken("d_PunishBandits_Quest")

				TActivate("ZASADA_5")
				TDeactivate("METALFELIX")
				TDeactivate("REVOLUTIONTIMEEND")
				TDeactivate("REVOLUTIONTIMEDEAD")

				trigger:Deactivate() 
			end 
		</script>
	</trigger>





	<trigger Name="METALFELIX2" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="FelixBaseLoc" />
		<script>
			TActivate( "RolikBegin_Felix2" )

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="METALFELIXDIE2" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="FelixBanditCars2" />
		<script>
			TActivate( "RolikBegin_Felix3" )

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="METALFELIXDIE3" active="0">
		<event eventid="GE_VEHICLE_WITHOUT_HEALTH" ObjName="FelixBanditCars3_vehicle_0" />
		<script>
			local FVehicle = GetEntityByName("FelixBanditCars3_vehicle_0")
			if FVehicle then FVehicle:Remove() end

			TActivate( "RolikBegin_Felix4" )

			CompleteQuest( "KillFelix_Quest" )

			AddHistory( "r1_Kill_Felix_00" );
			AddFadingMsgId( "fm_history_got" );

			trigger:Deactivate() 
		</script>
	</trigger>





	<trigger Name="HOSPITAL" active="1">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="Hospital_Loc" />
		<script>
			AddFadingMsgByStrIdFormatted( "fm_player_add_thing", "quest_medicine_box")

			local rrr = GetEntityByName ("medicine_box")
			if rrr then rrr:Remove() end

			CompleteQuestIfTaken( "r1m1_Hospital_Quest" )
	
			AddQuestItem("quest_medicine_box")

			trigger:Deactivate() 
		</script>
	</trigger>





	<trigger Name="BOTANIK" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="BotanicHouse" />
		<script>
			CompleteQuestIfTaken( "r1m1_FindBotanik_Quest" )

			trigger:Deactivate() 
		</script>
	</trigger>





	<trigger Name="LISAACTIVE" active="0">
		<event timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			SetTolerance( 1100, 1042, RS_ALLY )
			SetTolerance( 1002, 1042, RS_ENEMY )
			SetTolerance( 1013, 1042, RS_ENEMY )

			local newControllerId = CreateNewObject {
				prototypeName	= "someNPCMotionController",
				objName		= "LisaCont"
			}

			local newController = GetEntityByID(newControllerId)
			local FVehicle = GetEntityByName("CARLISA_vehicle_0")
			if FVehicle then
				FVehicle:PlaceToEndOfPath()
				newController:setVehicleUnderControl(FVehicle)
				
			end

			if GetVar("KrayCity").AsInt == 0 then
				TActivate("LISA4") 
				TakeQuest("d_Lisa_Quest_NoKC")
			elseif GetVar("KrayCity").AsInt == 1 then
				TActivate("LISA1") 
				TakeQuest("d_Lisa_Quest")
			end

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="LISAREMOVE" active="0">
		<event timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			SetTolerance( 1100, 1042, RS_ALLY )

			local FVehicle = GetEntityByName("CARLISA_vehicle_0")
			if FVehicle then
				FVehicle:SetExternalPathByName("lisarunout_path")
			end

			TActivate( "LISAREMOVE3" )

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="LISAREMOVE2" active="0">
		<event timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			SetTolerance( 1100, 1042, RS_ALLY )

			local FVehicle = GetEntityByName("CARLISA_vehicle_0")
			if FVehicle then
				FVehicle:Remove()
			end

			local vehLisa = GetEntityByName("vehLisa_0")
			if vehLisa then
				vehLisa:Remove()
			end

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="LISAREMOVE3" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="loc_LisaRunOut" />
		<script>
			SetTolerance( 1100, 1042, RS_ALLY )

			local FVehicle = GetEntityByName("CARLISA_vehicle_0")
			if FVehicle then
				FVehicle:Remove()
			end

			trigger:Deactivate() 
		</script>
	</trigger>





	<trigger Name="ZASADA_2" active="1">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="VeryBigFun1_Loc" />
		<script>
			local terr = TeamCreate("SecondB",1002,CVector(2099,339,2343),{"Sml101","Sml101"},CVector(2429,334,2354), 1)
			terr:SetProperty ("TeamTacticPrototype", "TeamTacticTerroristsR1M1")
			terr:_AdjustBehaviour ()

			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="ZASADA_3" active="1">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="VeryBigFun2_Loc" />
		<script>
			local terr = TeamCreate("ThirdB",1002,CVector(1136,289,2257),{"r1m1_scout03"},CVector(1260,287,2650), 1)
			terr:SetProperty ("TeamTacticPrototype", "TeamTacticTerroristsR1M1")
			terr:_AdjustBehaviour ()

			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="ZASADA_4" active="0">
		<event timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			local terr = TeamCreate("FourthB",1005,CVector(2022.755, 315, 2426.375),{"Sml101","Sml201"}, nil, 1)
			terr:SetProperty ("TeamTacticPrototype", "TeamTacticTerroristsR1M1")
			terr:_AdjustBehaviour ()

			trigger:Deactivate() 
		</script>
	</trigger>

	<trigger Name="ZASADA_5" active="0">
		<event timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			local terr = TeamCreate("FivthB", 1005, CVector(3116.254, 335.064, 2483.916), {"Sml201","Sml201"}, nil, 1)
			terr:SetProperty ("TeamTacticPrototype", "TeamTacticTerroristsR1M1")
			terr:_AdjustBehaviour ()

			trigger:Deactivate() 
		</script>
	</trigger>





	<trigger Name="triggerExitToMap12" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="ToR1M2" />
		<script>
			local Plf = GetPlayerVehicle()
			Plf:SetThrottle( 0 )
			Plf:SetCustomLinearVelocity( 0 )

			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			if IsQuestComplete("BackToYouzhniy_Quest") or GetVar("FelixRevenge").AsInt==1 then 
				local b = SpawnMessageBox( "8801" )
				if b == 1 then

					PassToMap("r1m2", "FromR1M1", -1 )

					local hs = GetEntityByName ("FIRE01")
					if hs then hs:Remove() end
					local hs = GetEntityByName ("FIRE02")
					if hs then hs:Remove() end
					local hs = GetEntityByName ("FIRE03")
					if hs then hs:Remove() end
					local hs = GetEntityByName ("FIRE04")
					if hs then hs:Remove() end
					local hs = GetEntityByName ("FIRE05")	
					if hs then hs:Remove() end
					local hs = GetEntityByName ("FIRE06")
					if hs then hs:Remove() end

					TDeactivate("ZASADA_1")
				else
					SaveAllToleranceStatus(RS_NEUTRAL)

					FlyAround(1, 0, 25, 2, PlfCoor, PlfID, 1, 1 )
					StartCinematic()

					TActivate ("RolikExitToMap12")
					TActivate ("RolikENDExitToMap12")
				end
			else
				SaveAllToleranceStatus(RS_NEUTRAL)

				FlyAround(1, 0, 25, 6, PlfCoor, PlfID, 1, 1 )
				StartCinematic()

				AddCinematicMessage( 8803, 0.5 )

				TActivate ("RolikExitToMap12")
				TActivate ("RolikENDExitToMap12")
			end
 		</script>
	</trigger>
	<trigger Name="RolikExitToMap12" active="0">
		<event eventid="GE_CINEMATIC_ENTER_FADE_IN" ObjName="Player1" />
		<script>
			CinemaFiltersUse()

			RotationPlayerByPoints(CVector(getPos("ToR1M2")), CVector(getPos("FromR1M2")))
			GetPlayerVehicle():SetGamePositionOnGround(CVector(getPos("FromR1M2")))

			trigger:Deactivate()    
		</script>
	</trigger>
	<trigger Name="RolikENDExitToMap12" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			GameFiltersUse()

			RestoreAllToleranceStatus()

			GetPlayerVehicle():SetGamePositionOnGround(CVector(getPos("FromR1M2")))

			TDeactivate( "RolikExitToMap12" )

			SetCameraBehindPlayerVehicle()

			trigger:Deactivate()
		</script>
	</trigger>





	<trigger Name="triggerExitToMap13" active="1">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="ToR1M3" />
		<script>
			local Plf = GetPlayerVehicle()
			Plf:SetThrottle( 0 )
			Plf:SetCustomLinearVelocity( 0 )

			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			if IsQuestComplete("d_FindHouseOfBen_Quest") or IsQuestComplete("QuickFindBen") then 
				local b = SpawnMessageBox( "8801" )
				if b == 1 then

					PassToMap("r1m3", "FromR1M1", -1 )

					local hs = GetEntityByName ("FIRE01")
					if hs then hs:Remove() end
					local hs = GetEntityByName ("FIRE02")
					if hs then hs:Remove() end
					local hs = GetEntityByName ("FIRE03")
					if hs then hs:Remove() end
					local hs = GetEntityByName ("FIRE04")
					if hs then hs:Remove() end
					local hs = GetEntityByName ("FIRE05")	
					if hs then hs:Remove() end
					local hs = GetEntityByName ("FIRE06")
					if hs then hs:Remove() end

					TDeactivate("ZASADA_1")
				else
					SaveAllToleranceStatus(RS_NEUTRAL)

					FlyAround(1, 0, 25, 2, PlfCoor, PlfID, 1, 1 )
					StartCinematic()

					TActivate ("RolikExitToMap13")
					TActivate ("RolikENDExitToMap13")
				end
			else
				SaveAllToleranceStatus(RS_NEUTRAL)

				FlyAround(1, 0, 25, 6, PlfCoor, PlfID, 1, 1 )
				StartCinematic()
				AddCinematicMessage( 8802, 0.5 )

				TActivate ("RolikExitToMap13")
				TActivate ("RolikENDExitToMap13")
			end
 		</script>
	</trigger>
	<trigger Name="RolikExitToMap13" active="0">
		<event eventid="GE_CINEMATIC_ENTER_FADE_IN" ObjName="Player1" />
		<script>
			CinemaFiltersUse()

			RotationPlayerByPoints(CVector(getPos("ToR1M3")), CVector(getPos("FromR1M3")))
			GetPlayerVehicle():SetGamePositionOnGround(CVector(getPos("FromR1M3")))

			trigger:Deactivate()    
		</script>
	</trigger>
	<trigger Name="RolikENDExitToMap13" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			GameFiltersUse()

			RestoreAllToleranceStatus()

			GetPlayerVehicle():SetGamePositionOnGround(CVector(getPos("FromR1M3")))

			TDeactivate( "RolikExitToMap13" )

			SetCameraBehindPlayerVehicle()

			trigger:Deactivate()
		</script>
	</trigger>





	<trigger Name="triggerExitToMap41" active="1">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="ToR4M1" />
		<script>
			local Plf = GetPlayerVehicle()
			Plf:SetThrottle( 0 )
			Plf:SetCustomLinearVelocity( 0 )

			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			if IsQuestTaken("r3m2_FindInfoAboutFather") or IsQuestTaken("r3m2_RevengeDestroyVillage") then 
				local b = SpawnMessageBox( "8801" )
				if b == 1 then

					PassToMap("r4m1", "FromR1M1", -1 )
				else
					SaveAllToleranceStatus(RS_NEUTRAL)

					FlyAround(1, 0, 25, 2, PlfCoor, PlfID, 1, 1 )
					StartCinematic()

					TActivate ("RolikExitToMap41")
					TActivate ("RolikENDExitToMap41")
				end
			else
				SaveAllToleranceStatus(RS_NEUTRAL)

				FlyAround(1, 0, 25, 6, PlfCoor, PlfID, 1, 1 )
				StartCinematic()

				AddCinematicMessage( 8803, 2 )

				TActivate ("RolikExitToMap41")
				TActivate ("RolikENDExitToMap41")
			end
 		</script>
	</trigger>
	<trigger Name="RolikExitToMap41" active="0">
		<event eventid="GE_CINEMATIC_ENTER_FADE_IN" ObjName="Player1" />
		<script>
			CinemaFiltersUse()

			RotationPlayerByPoints(CVector(getPos("ToR4M1")), CVector(getPos("FromR4M1")))
			GetPlayerVehicle():SetGamePositionOnGround(CVector(getPos("FromR4M1")))

			trigger:Deactivate()    
		</script>
	</trigger>
	<trigger Name="RolikENDExitToMap41" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			GameFiltersUse()

			RestoreAllToleranceStatus()

			GetPlayerVehicle():SetGamePositionOnGround(CVector(getPos("FromR4M1")))

			TDeactivate( "RolikExitToMap41" )

			SetCameraBehindPlayerVehicle()

			trigger:Deactivate()
		</script>
	</trigger>





	<trigger Name="TRAKTOR_FUN" active="1">
		<event timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			TeamCreateWithWarez("11Traktor1", 1008, CVector(979.867, 290.134, 2700.000), {"Traktor01"}, nil, 1)

			local t = GetEntityByName("11Traktor1")
			if t then
				t:StackOpen()
				t:SetDestination( CVector(987, 287, 2728) )
				t:SetDestination( CVector(1001, 287, 2814) )
				t:SetDestination( CVector(1086, 287, 2802) )
				t:SetDestination( CVector(1077, 287, 2730) )
				t:StackLoop()
				t:StackClose()
			end

			trigger:Deactivate()
		</script>
	</trigger>





	<trigger Name="tr_Tutotial_Start" active="0">
		<event 	timeout="0.5" eventid="GE_TIME_PERIOD" />
		<script>
			 

			EnableAutoHelp( false )

			SpawnMessageBox( "90001" )

			local b = SpawnMessageBox( "90000" )
			if b == 1 then
				TakeQuest("FirstTimePlay")
				
				CompleteQuest("FirstTimePlay")
			end
			trigger:Deactivate()
		</script>
	</trigger>





	<trigger Name="triggerExitToSouth" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="ToSouth" />
		<script>
			local Plf = GetPlayerVehicle()
			Plf:SetThrottle( 0 )
			Plf:SetCustomLinearVelocity( 0 )

			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			SaveAllToleranceStatus(RS_NEUTRAL)

			FlyAround(1, 0, 25, 6, PlfCoor, PlfID, 1, 1 )
			StartCinematic()

			AddCinematicMessage( 8802, 0.5 )

			TActivate ("RolikExitToSouth")
			TActivate ("RolikENDExitToSouth")

 		</script>
	</trigger>
	<trigger Name="RolikExitToSouth" active="0">
		<event eventid="GE_CINEMATIC_ENTER_FADE_IN" ObjName="Player1" />
		<script>
			CinemaFiltersUse()

			RotationPlayerByPoints(CVector(getPos("ToSouth")), CVector(getPos("FromSouth")))
			GetPlayerVehicle():SetGamePositionOnGround(CVector(getPos("FromSouth")))

			trigger:Deactivate()    
		</script>
	</trigger>
	<trigger Name="RolikENDExitToSouth" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			GameFiltersUse()

			RestoreAllToleranceStatus()

			GetPlayerVehicle():SetGamePositionOnGround(CVector(getPos("FromSouth")))

			TDeactivate( "RolikExitToSouth" )

			SetCameraBehindPlayerVehicle()

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="GoodEndAlmostHere" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="TheFreedomQ" />
		<script>

			CompleteQuest("VisitTroick")
			
			TActivate("GoodEndCin")
			
			trigger:Deactivate()    
		</script>
	</trigger>

	<trigger Name="Create_ConstructionPlace01" active="0">
		<event 	timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			CreateNewSgNodeObject( "ET_PS_HLIGHT",      "constlight01", -1, -1, CVector(1538.165, 306.032, 3254.301), Quaternion(0.0000, 0.0000, 0.0000, 0.0000), 13.00) 

			CreateNewDummyObject( "factory_box",       "constbox01",   -1, -1, CVector(1537.821, 305.904, 3248.180),   Quaternion(-0.0477, 0.0048, -0.1001, 0.9938)  )
			CreateNewDummyObject( "pack",              "constpck01",   -1, -1, CVector(1539.686, 307.000, 3259.838),   Quaternion(0.0493, 0.3579, -0.0700, 0.9298)   )
			CreateNewDummyObject( "pack",              "constpck02",   -1, -1, CVector(1544.301, 305.500, 3254.510),   Quaternion(-0.0744, -0.4663, -0.0852, 0.8774) )
			CreateNewDummyObject( "pack",              "constpck03",   -1, -1, CVector(1531.284, 308.054, 3256.912),   Quaternion(-0.0135, -0.3143, -0.0698, 0.9467) )
			CreateNewDummyObject( "factory_box", "constcnt01",   -1, -1, CVector(1529.463, 307.055, 3249.927),   Quaternion(-0.0614, -0.3087, -0.0363, 0.9485) )

			CreateNewDummyObject( "factory_box",       "constbox02",   -1, -1, CVector(1569.746, 295.000, 3107.854),   Quaternion(0.0000, -0.4285, 0.0000, 0.9035)  )
			CreateNewDummyObject( "pack",              "constpck04",   -1, -1, CVector(1562.311, 295.000, 3107.815),   Quaternion(0.0000, 0.7009, 0.0000, 0.7133)   )
			CreateNewDummyObject( "pack",              "constpck05",   -1, -1, CVector(1571.102, 295.000, 3113.075),   Quaternion(0.0000, -0.5244, 0.0000, 0.8515) )
			CreateNewDummyObject( "pack",              "constpck06",   -1, -1, CVector(1563.571, 294.000, 3119.301),   Quaternion(0.0065, 0.0004, 0.0676, 0.9977) )
			CreateNewDummyObject( "factory_box",       "constbox03",   -1, -1, CVector(1571.197, 295.000, 3117.813),   Quaternion(0.0000, 0.5610, 0.0000, 0.8278) )

			TActivate("Trigged_ConstructionPlace01")
			trigger:Deactivate()

		</script>
	</trigger>



	<trigger Name="Trigged_ConstructionPlace01" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="ConstructionPlace01" />
		<script>

		local hs = GetEntityByName ("constlight01")
		if hs then hs:Remove() end
		local hs = GetEntityByName ("constbox01")
		if hs then hs:Remove() end
		local hs = GetEntityByName ("constpck01")
		if hs then hs:Remove() end
		local hs = GetEntityByName ("constpck02")
		if hs then hs:Remove() end
		local hs = GetEntityByName ("constpck03")
		if hs then hs:Remove() end
		local hs = GetEntityByName ("constcnt01")
		if hs then hs:Remove() end

		TeamCreate("Defenders",1008,CVector(1311, 288, 2832),{"BelazTSP","TSPFighter"}, CVector(1549, 288, 3185), 1)

		TActivate("Build_ConstructionPlace01")
		TActivate("Create_ConstructionPlace02")
		trigger:Deactivate()
		</script>
	</trigger>


	<trigger Name="Build_ConstructionPlace01" active="0">
		<event 	timeout="10" eventid="GE_TIME_PERIOD" />
		<script>

		CreateNewBreakableObject( "bandit_base_defense_2","bbd01", 1008, CVector(1538.165, 304.032, 3254.301), Quaternion(0.000, 0.685, 0.000, 0.728),0 )

		trigger:Deactivate()
		</script>
	</trigger>





	<trigger Name="Create_ConstructionPlace02" active="0">
		<event 	timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			CreateNewSgNodeObject( "ET_PS_HLIGHT",      "constlight02", -1, -1, CVector(1565.589, 295.000, 3113.854),   Quaternion(0.0000, 0.0000, 0.0000, 0.0000), 13.00) 


			TActivate("Trigged_ConstructionPlace02")
			trigger:Deactivate()

		</script>
	</trigger>


	<trigger Name="Trigged_ConstructionPlace02" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="ConstructionPlace02" />
		<script>

		local hs = GetEntityByName ("constlight02")
		if hs then hs:Remove() end
		local hs = GetEntityByName ("constbox02")
		if hs then hs:Remove() end
		local hs = GetEntityByName ("constpck04")
		if hs then hs:Remove() end
		local hs = GetEntityByName ("constpck05")
		if hs then hs:Remove() end
		local hs = GetEntityByName ("constpck06")
		if hs then hs:Remove() end
		local hs = GetEntityByName ("constbox03")
		if hs then hs:Remove() end

		TActivate("Build_ConstructionPlace02")
		trigger:Deactivate()
		</script>
	</trigger>



	<trigger Name="Build_ConstructionPlace02" active="0">
		<event 	timeout="10" eventid="GE_TIME_PERIOD" />
		<script>

		CreateNewBreakableObject( "bandit_base_defense_2","bbd02", 1008, CVector(1565.589, 295.000, 3113.854), Quaternion(0.000, 0.605, 0.000, 0.796),0 )

		TActivate("Const_mis_Attack")
		trigger:Deactivate()
		</script>
	</trigger>


	<trigger Name="Const_mis_Attack" active="0">
		<event 	timeout="1" eventid="GE_TIME_PERIOD" />
		<script>

		TeamCreate("CMBandits1",1002,CVector(2141, 293, 3374),{"BelazTSPP","TSPFighter","Cruiser01","TSPFighter","TSPFighter"}, CVector(1549, 288, 3185), 1)

		local FVehicle = GetEntityByName("CMBandits1_vehicle_0")
		if FVehicle then FVehicle:SetCruisingSpeed(130) end
		local FVehicle = GetEntityByName("CMBandits1_vehicle_1")
		if FVehicle then FVehicle:SetCruisingSpeed(130) end
		local FVehicle = GetEntityByName("CMBandits1_vehicle_2")
		if FVehicle then FVehicle:SetCruisingSpeed(130) end
		local FVehicle = GetEntityByName("CMBandits1_vehicle_3")
		if FVehicle then FVehicle:SetCruisingSpeed(130) end
		local FVehicle = GetEntityByName("CMBandits1_vehicle_4")
		if FVehicle then FVehicle:SetCruisingSpeed(130) end

		TActivate("Const_mis_Attack2")

		trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="Const_mis_Attack2" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="CMBandits1" />
		<script>

		TeamCreate("CMBandits2",1002,CVector(2141, 293, 3374),{"BelazTSPP","TSPFighter","Cruiser01","TSPFighter","TSPFighter"}, CVector(1549, 288, 3185), 1)

		local FVehicle = GetEntityByName("CMBandits2_vehicle_0")
		if FVehicle then FVehicle:SetCruisingSpeed(130) end
		local FVehicle = GetEntityByName("CMBandits2_vehicle_1")
		if FVehicle then FVehicle:SetCruisingSpeed(130) end
		local FVehicle = GetEntityByName("CMBandits2_vehicle_2")
		if FVehicle then FVehicle:SetCruisingSpeed(130) end
		local FVehicle = GetEntityByName("CMBandits2_vehicle_3")
		if FVehicle then FVehicle:SetCruisingSpeed(130) end
		local FVehicle = GetEntityByName("CMBandits2_vehicle_4")
		if FVehicle then FVehicle:SetCruisingSpeed(130) end

		TActivate("Const_mis_complete")

		trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="Const_mis_complete" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="CMBandits2" />
		<script>
		 
		CompleteQuest( "r1m1_Construct_Quest" )

		trigger:Deactivate()

		</script>
	</trigger>

	<trigger Name="TheSowthDefRemove" active="0">
		<event        timeout="0.01"        eventid="GE_TIME_PERIOD" />
		<script>

			local vehAlly1 = GetEntityByName("Defenders_vehicle_0")
			if vehAlly1 then
				vehAlly1:Remove()
			end
			local vehAlly2 = GetEntityByName("Defenders_vehicle_1")
			if vehAlly2 then
				vehAlly2:Remove()
			end

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="AivenRolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="VeryBigFun1_Loc" />
		<script>
			if QuestStatus("r3m2_FindInfoAboutFather")==Q_TAKEN then
				TActivate("AivenRolikBegin")
				trigger:Deactivate()
			end
		</script>
	</trigger>

	<trigger Name="trZapretGluhoeStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="ZapterGluhoe_Loc" />
		<script>
			if QuestStatus("d_Lisa_Quest")==Q_TAKEN or QuestStatus("d_Lisa_Quest_NoKC")==Q_TAKEN then
				TActivate("trZapretGluhoe")
			end
			
			if QuestStatus("ATGloohoe_Quest")==Q_TAKEN then
				TActivate("ATGRolikBegin")
				CompleteQuest("ATGloohoe_Quest")
				trigger:Deactivate()
			end
		</script>
	</trigger>

	<trigger Name="BotanikVanCreate" active="0">
		<event        timeout="1"        eventid="GE_TIME_PERIOD" />
		<script>
			CreateNewDummyObject("bugWheel01", "vwheel11", -1, -1, CVector(2172.957, 361.558, 2755.584), Quaternion(0.0000, 0.4617, 0.0000, 0.8870), 0)
			CreateNewDummyObject("bugWheel01", "vwheel12", -1, -1, CVector(2174.073, 361.581, 2753.621), Quaternion(0.0000, -0.8788, 0.0000, 0.4772), 0)
			CreateNewDummyObject("bugWheel02", "vwheel21", -1, -1, CVector(2177.874, 361.632, 2755.821), Quaternion(0.0000, -0.8746, 0.0000, 0.4848), 0)
			CreateNewDummyObject("bugWheel02", "vwheel22", -1, -1, CVector(2176.639, 361.598, 2757.831), Quaternion(0.0000, 0.4829, 0.0000, 0.8757), 0)
			CreateNewDummyObject("bugChassis", "vchassis", -1, -1, CVector(2175.470, 361.338, 2755.752), Quaternion(0.0000, -0.8693, 0.0000, 0.4943), 0)
			CreateNewDummyObject("bugCab03", "vcab", -1, -1, CVector(2173.990, 362.863, 2754.705), Quaternion(0.0000, -0.8660, 0.0000, 0.5000), 1)
			CreateNewDummyObject("bugCargo03", "vcargo", -1, -1, CVector(2177.305, 362.951, 2756.749), Quaternion(0.0000, -0.8704, -0.0000, 0.4924), 1)

			local cab1 = GetEntityByName("vcab")
			if cab1 then cab1:SetBelong(1008) end

			local cargo1 = GetEntityByName("vcargo")
			if cargo1 then cargo1:SetBelong(1008) end

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="TeleportToR1M4" active="0">
	<event        timeout="0.1"        eventid="GE_TIME_PERIOD" />
		<script>
			local b = SpawnMessageBox("5983")
			if b == 1 then
				PassToMap("r1m4","FromR1M3", -1, true)
			end
			trigger:Deactivate()
		</script>
	</trigger>

</triggers>