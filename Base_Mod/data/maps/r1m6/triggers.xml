<?xml version="1.0" encoding="windows-1251" standalone="yes" ?>


<triggers>

	<trigger Name="GlobalVar" active="1">
		<event timeout="0.1" eventid="GE_TIME_PERIOD" />
		<script>
			SetVar("Serafima",0)
			
			CreateNewDummyObject( "agro_gate", "vorota", -1, -1, CVector(458.534, 255.420, 1763.684), Quaternion(0.0000, -0.5948, 0.0000, 0.8039), 0)
			CreateNewDummyObject( "arena_barricade8", "gate1", -1, -1, CVector(2850.631, 256.083, 3023.677), Quaternion(0.0000, -0.8940, 0.0000, 0.4481), 0)
			CreateNewDummyObject( "arena_barricade8", "gate2", -1, -1, CVector(2862.078, 255.770, 3008.722), Quaternion(0.0000, -0.8978, 0.0000, 0.4403), 0)
			CreateNewDummyObject( "arena_barricade8", "gate3", -1, -1, CVector(2874.614, 255.465, 2994.410), Quaternion(0.0000, -0.9214, 0.0000, 0.3887), 0)
			CreateNewDummyObject( "arena_barricade8", "gate4", -1, -1, CVector(2886.106, 255.300, 2981.353), Quaternion(0.0000, -0.8910, 0.0000, 0.4540), 0)
			CreateNewDummyObject( "3_ribask", "lodka2", -1, -1, CVector(427.883, 249.295, 884.046), Quaternion(0.0000, 0.2945, 0.0000, 0.9557), 0)
			CreateNewDummyObject( "1_riback", "lodka1", -1, -1, CVector(453.991, 248.346, 922.372), Quaternion(0.0000, 0.6018, 0.0000, 0.7986), 0)
			CreateNewDummyObject( "boevoy", "korablik", -1, -1, CVector(88.858, 254.141, 774.987), Quaternion(0.0273, 0.9383, -0.0982, 0.3305), 0)
			
			CreateNewBreakableObject( "Human","hum01", 1089, CVector(2335.944, 255.000, 675.530), Quaternion(0.000, 0.000, 0.000, 0.000),0 )
			CreateNewBreakableObject( "Human2","hum02", 1089, CVector(2338.227, 255.000, 675.954), Quaternion(0.000, 0.000, 0.000, 0.000),0 )
			CreateNewBreakableObject( "Human3","hum03", 1089, CVector(2340.722, 255.000, 676.000), Quaternion(0.000, 0.000, 0.000, 0.000),0 )
			
			local tp = GetEntityByName("TheTown")
			tp:SetOpenGateToPlayer( false )
			
			SetConditionalClosingForTown( "TheTown", "r1m6", true )
			
			local tp1 = GetEntityByName("TheOilVillage")
			tp1:SetOpenGateToPlayer( false )
			
			SetConditionalClosingForTown( "TheOilVillage", "r1m6", true )
			
			local town = GetEntityByName ("PetrolStationTown5")
			if town then
				town:SetRuined(true)
			end
			
			TActivate("trKateberg_create")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trKateberg_create" active="0">
		<event	timeout="0.01"		eventid="GE_TIME_PERIOD" />
		<script>
			CreateNewBreakableObject( "heavy_dot4_octopus","dot01", 1089, CVector(1625.559, 403.536, 2207.941), Quaternion(0.000, -0.668, 0.000, 0.745),0 )
			CreateNewBreakableObject( "heavy_dot4_octopus","dot02", 1089, CVector(1633.995, 403.170, 2149.526), Quaternion(0.000, 0.991, 0.000, 0.133),0 )
			CreateNewBreakableObject( "heavy_dot4_octopus","dot03", 1089, CVector(1666.762, 408.949, 2154.268), Quaternion(0.000, 0.993, 0.000, 0.115),0 )
			CreateNewBreakableObject( "heavy_dot4_octopus","dot04", 1089, CVector(1726.791, 416.029, 2162.286), Quaternion(0.000, 0.938, 0.000, 0.346),0 )
			CreateNewBreakableObject( "heavy_dot4_octopus","dot05", 1089, CVector(1750.201, 415.697, 2199.539), Quaternion(0.000, 0.781, 0.000, 0.624),0 )
			CreateNewBreakableObject( "heavy_dot4_octopus","dot06", 1089, CVector(1745.949, 405.337, 2244.130), Quaternion(0.000, 0.685, 0.000, 0.728),0 )
			CreateNewBreakableObject( "heavy_dot4_octopus","dot07", 1089, CVector(1724.353, 401.912, 2287.687), Quaternion(0.000, 0.248, 0.000, 0.969),0 )
			CreateNewBreakableObject( "heavy_dot4_vulcan","dot08", 1089, CVector(1670.741, 406.471, 2297.174), Quaternion(0.000, -0.139, 0.000, 0.990),0 )
			CreateNewBreakableObject( "heavy_dot4_rapier","dot09", 1089, CVector(1630.407, 410.537, 2280.801), Quaternion(0.000, -0.146, 0.000, 0.989),0 )
			
			CreateNewDummyObject( "house1", "town1", -1, -1, CVector(1722.091, 404.671, 2279.759), Quaternion(0.0000, -0.9517, 0.0000, 0.3069), 0)
			CreateNewDummyObject( "house3", "town2", -1, -1, CVector(1714.477, 404.160, 2284.157), Quaternion(0.0000, 0.9837, 0.0000, -0.1801 ), 0)
			CreateNewDummyObject( "townhall", "town3", -1, -1, CVector(1702.264, 405.457, 2282.027), Quaternion(0.0000, 0.9893, 0.0000, 0.1457), 0)
			CreateNewSgNodeObject( "civilhouse2_skin", "town4", -1, -1, CVector(1693.947, 409.280, 2219.739), Quaternion(0.0026, 0.8051, 0.0035, -0.5931), 0.661)
			CreateNewSgNodeObject( "petrolhouse2", "town5", -1, -1, CVector(1701.309, 402.836, 2237.185), Quaternion(0.0000, 0.5878, 0.0000, 0.8090), 2.207)
			CreateNewSgNodeObject( "rr_platform", "town6", -1, -1, CVector(1652.863, 407.882, 2246.540), Quaternion(-0.0040, -0.1370, -0.0006, 0.9906), 1.126)
			CreateNewSgNodeObject( "rr_platform", "town7", -1, -1, CVector(1675.098, 407.440, 2255.576), Quaternion(-0.0035, -0.1388, -0.0158, 0.9902), 1.219)
			CreateNewSgNodeObject( "rr_watertower", "town8", -1, -1, CVector(1689.833, 422.578, 2233.635), Quaternion(0.0000, 0.5807, 0.0000, 0.8141), 0.661)
			CreateNewSgNodeObject( "electro_stolb2", "town9", -1, -1, CVector(1695.135, 414.387, 2254.939), Quaternion(0.0000, 0.5700, 0.0000, 0.8216), 1.501)
			CreateNewDummyObject( "workshop1", "town10", -1, -1, CVector(1680.618, 407.845, 2262.302), Quaternion(0.0129, 0.9886, 0.0020, 0.1500), 0)
			CreateNewDummyObject( "petrolhouse2", "town11", -1, -1, CVector(1648.539, 408.373, 2230.356), Quaternion(-0.0014, 0.8116, 0.0060, -0.5842), 0)
			CreateNewSgNodeObject( "transformator2", "town12", -1, -1, CVector(1664.277, 408.914, 2273.756), Quaternion(0.0000, 0.5931, 0.0000, 0.8052), 1.639)
			CreateNewSgNodeObject( "transformator1", "town13", -1, -1, CVector(1642.308, 410.990, 2256.658), Quaternion(0.0000, -0.2356, 0.0000, -0.9719), 1.061)
			CreateNewDummyObject( "house1", "town14", -1, -1, CVector(1631.169, 404.221, 2214.768), Quaternion(-0.0388, 0.9991, -0.0058, -0.0131), 0)
			CreateNewDummyObject( "petrolhouse1", "town15", -1, -1, CVector(1732.456, 404.845, 2267.637), Quaternion(0.0000, 0.5519, 0.0000, 0.8339), 0)
			CreateNewDummyObject( "petrolhouse3", "town16", -1, -1, CVector(1736.258, 405.014, 2257.642), Quaternion(0.0000, -0.1197, 0.0000, 0.9928), 0)
			CreateNewDummyObject( "petrolhouse1", "town17", -1, -1, CVector(1729.249, 415.017, 2173.106), Quaternion(0.0038, 0.9153, -0.0079, 0.4027), 0)
			CreateNewDummyObject( "petrolhouse2", "town18", -1, -1, CVector(1664.590, 408.075, 2162.590), Quaternion(-0.0030, -0.0479, 0.0632, 0.9968), 0)
			CreateNewDummyObject( "house2", "town19", -1, -1, CVector(1643.608, 404.886, 2160.180), Quaternion(0.0261, -0.0508, 0.0476, 0.9972), 0)
			CreateNewDummyObject( "minin", "town20", -1, -1, CVector(1668.172, 408.638, 2247.250), Quaternion(0.000, 0.152, 0.000, -0.988), 0)
			CreateNewDummyObject( "big_gate01", "town21", -1, -1, CVector(1671.436, 411.445, 2217.576), Quaternion(-0.0021, -0.1607, 0.0129, 0.9869), 0)

			CreateNewBreakableObject( "lamppost1","lamp01", 1089, CVector(1701.368, 406.412, 2265.806), Quaternion(0.000, 0.653, 0.000, 0.758),0 )
			CreateNewBreakableObject( "lamppost1","lamp02", 1089, CVector(1688.357, 409.171, 2217.482), Quaternion(0.000, 0.990, 0.000, 0.141),0 )
			CreateNewBreakableObject( "lamppost1","lamp03", 1089, CVector(1659.556, 407.358, 2207.118), Quaternion(0.000, -0.990, 0.000, -0.139),0 )
			CreateNewBreakableObject( "lamppost1","lamp04", 1089, CVector(1656.203, 409.868, 2266.350), Quaternion(0.000, 0.989, 0.000, 0.150),0 )

			local fix = GetEntityByName("town21")
			if fix then fix:SetNodeAction(AT_RESERVED3) end

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trKateberg_destroy" active="0">
		<event	timeout="0.5"		eventid="GE_TIME_PERIOD" />
		<script>
			local d1 = GetEntityByName("dot01")
			if d1 then d1:Remove() end
			local d2 = GetEntityByName("dot02")
			if d2 then d2:Remove() end
			local d3 = GetEntityByName("dot03")
			if d3 then d3:Remove() end
			local d4 = GetEntityByName("dot04")
			if d4 then d4:Remove() end
			local d5 = GetEntityByName("dot05")
			if d5 then d5:Remove() end
			local d6 = GetEntityByName("dot06")
			if d6 then d6:Remove() end
			local d7 = GetEntityByName("dot07")
			if d7 then d7:Remove() end
			local d8 = GetEntityByName("dot08")
			if d8 then d8:Remove() end
			local d9 = GetEntityByName("dot09")
			if d9 then d9:Remove() end
			
			local t1 = GetEntityByName("town1")
			if t1 then t1:Remove() end
			local t2 = GetEntityByName("town2")
			if t2 then t2:Remove() end
			local t3 = GetEntityByName("town3")
			if t3 then t3:Remove() end
			local t4 = GetEntityByName("town4")
			if t4 then t4:Remove() end
			local t5 = GetEntityByName("town5")
			if t5 then t5:Remove() end
			local t6 = GetEntityByName("town6")
			if t6 then t6:Remove() end
			local t7 = GetEntityByName("town7")
			if t7 then t7:Remove() end
			local t8 = GetEntityByName("town8")
			if t8 then t8:Remove() end
			local t9 = GetEntityByName("town9")
			if t9 then t9:Remove() end
			local t10 = GetEntityByName("town10")
			if t10 then t10:Remove() end
			local t11 = GetEntityByName("town11")
			if t11 then t11:Remove() end
			local t12 = GetEntityByName("town12")
			if t12 then t12:Remove() end
			local t13 = GetEntityByName("town13")
			if t13 then t13:Remove() end
			local t14 = GetEntityByName("town14")
			if t14 then t14:Remove() end
			local t15 = GetEntityByName("town15")
			if t15 then t15:Remove() end
			local t16 = GetEntityByName("town16")
			if t16 then t16:Remove() end
			local t17 = GetEntityByName("town17")
			if t17 then t17:Remove() end
			local t18 = GetEntityByName("town18")
			if t18 then t18:Remove() end
			local t19 = GetEntityByName("town19")
			if t19 then t19:Remove() end
			local t20 = GetEntityByName("town20")
			if t20 then t20:Remove() end
			local t21 = GetEntityByName("town21")
			if t21 then t21:Remove() end
			
			local l1 = GetEntityByName("lamp01")
			if l1 then l1:Remove() end
			local l2 = GetEntityByName("lamp02")
			if l2 then l2:Remove() end
			local l3 = GetEntityByName("lamp03")
			if l3 then l3:Remove() end
			local l4 = GetEntityByName("lamp04")
			if l4 then l4:Remove() end
			
			CreateNewSgNodeObject( "factorytunne", "town21", -1, -1, CVector(1664.672, 408.805, 2242.621), Quaternion(0.0000, -0.1413, 0.0000, 0.9900), 0.400)
			CreateNewDummyObject( "waste1", "town22", -1, -1, CVector(1734.752, 404.695, 2267.136), Quaternion(0.0000, -0.9072, 0.0000, 0.4206), 0)
			CreateNewDummyObject( "waste2", "town23", -1, -1, CVector(1650.496, 406.332, 2205.899), Quaternion(0.0000, 0.0000, 0.0000, 0.0000), 0)
			CreateNewDummyObject( "waste3", "town24", -1, -1, CVector(1738.157, 404.768, 2258.589), Quaternion(0.0000, -0.8829, 0.0000, 0.4695), 0)
			CreateNewDummyObject( "concrete_ruins1", "town25", -1, -1, CVector(1727.332, 404.377, 2275.319), Quaternion(0.0000, 0.8594, 0.0000, 0.5113), 0)
			CreateNewDummyObject( "concrete_ruins4", "town26", -1, -1, CVector(1651.357, 407.342, 2218.687), Quaternion(0.0000, -0.8997, 0.0000, 0.4364), 0)
			CreateNewDummyObject( "deadtree2", "town27", -1, -1, CVector(1675.415, 407.526, 2282.289), Quaternion(0.0000, 0.0000, 0.0000, 0.0000), 0)
			CreateNewDummyObject( "deadtree4", "town28", -1, -1, CVector(1706.533, 405.786, 2270.422), Quaternion(0.0000, 0.0000, 0.0000, 0.0000), 0)
			CreateNewDummyObject( "deadtree1", "town29", -1, -1, CVector(1638.400, 411.310, 2258.718), Quaternion(0.0000, 0.0000, 0.0000, 0.0000), 0)
			CreateNewDummyObject( "waste1", "town30", -1, -1, CVector(1694.851, 413.190, 2170.115), Quaternion(0.0000, 0.0000, 0.0828, 0.9966), 0)
			CreateNewDummyObject( "waste1", "town31", -1, -1, CVector(1713.164, 414.960, 2166.375), Quaternion(0.0000, 0.0000, 0.0000, 0.0000), 0)
			CreateNewDummyObject( "waste1", "town32", -1, -1, CVector(1652.143, 406.118, 2159.905), Quaternion(0.0000, 0.0000, 0.0000, 0.0000), 0)
			CreateNewDummyObject( "concrete_ruins1", "town33", -1, -1, CVector(1729.415, 415.212, 2175.450), Quaternion(-0.0371, 0.1928, 0.0012, 0.9805), 0)
			CreateNewDummyObject( "concrete_ruins1", "town34", -1, -1, CVector(1665.267, 408.313, 2159.854), Quaternion(-0.0168, -0.6409, -0.0000, 0.7674), 0)
			CreateNewDummyObject( "concrete_ruins4", "town35", -1, -1, CVector(1643.280, 404.640, 2159.636), Quaternion(0.0000, 0.6544, 0.0000, 0.7561), 0)
			CreateNewDummyObject( "waste3", "town36", -1, -1, CVector(1639.564, 402.927, 2215.128), Quaternion(0.0000, 0.9990, 0.0000, 0.0458), 0)
			CreateNewDummyObject( "waste2", "town37", -1, -1, CVector(1680.622, 411.084, 2166.132), Quaternion(0.0000, 0.0000, 0.0000, 0.0000), 0)
			CreateNewDummyObject( "waste2", "town38", -1, -1, CVector(1719.935, 414.928, 2171.145), Quaternion(0.0000, 0.0000, 0.0000, 0.0000), 0)
			CreateNewDummyObject( "concrete_ruins2", "town39", -1, -1, CVector(1639.194, 404.485, 2205.512), Quaternion(0.0000, 0.9642, 0.0000, 0.2651), 0)
			CreateNewSgNodeObject( "midgard_gate", "town40", -1, -1, CVector(1663.328, 409.737, 2243.413), Quaternion(0.0000, -0.1370, 0.0000, 0.9906), 0.550)
			CreateNewDummyObject( "concrete_ruins2", "town41", -1, -1, CVector(1694.169, 408.648, 2231.342), Quaternion(0.0000, -0.5754, 0.0000, 0.8179), 0)
			CreateNewDummyObject( "concrete_ruins4", "town42", -1, -1, CVector(1697.155, 409.808, 2211.685), Quaternion(0.0000, -0.2313, 0.0000, 0.9729), 0)

			CreateNewDummyObject( "heavy_dot_brocken3", "dot10", -1, -1, CVector(1625.559, 403.536, 2207.941), Quaternion(0.000, -0.668, 0.000, 0.745), 0)
			CreateNewDummyObject( "heavy_dot_brocken3", "dot11", -1, -1, CVector(1633.995, 403.170, 2149.526), Quaternion(0.000, 0.991, 0.000, 0.133), 0)
			CreateNewDummyObject( "heavy_dot_brocken3", "dot12", -1, -1, CVector(1666.762, 408.949, 2154.268), Quaternion(0.000, 0.993, 0.000, 0.115), 0)
			CreateNewDummyObject( "heavy_dot_brocken3", "dot13", -1, -1, CVector(1726.791, 416.029, 2162.286), Quaternion(0.000, 0.938, 0.000, 0.346), 0)
			CreateNewDummyObject( "heavy_dot_brocken3", "dot14", -1, -1, CVector(1750.201, 415.697, 2199.539), Quaternion(0.000, 0.781, 0.000, 0.624), 0)
			CreateNewDummyObject( "heavy_dot_brocken3", "dot15", -1, -1, CVector(1745.949, 405.337, 2244.130), Quaternion(0.000, 0.685, 0.000, 0.728), 0)
			CreateNewDummyObject( "heavy_dot_brocken3", "dot16", -1, -1, CVector(1724.353, 401.912, 2287.687), Quaternion(0.000, 0.248, 0.000, 0.969), 0)
			CreateNewDummyObject( "heavy_dot_brocken3", "dot17", -1, -1, CVector(1670.741, 406.471, 2297.174), Quaternion(0.000, -0.139, 0.000, 0.990), 0)
			CreateNewDummyObject( "heavy_dot_brocken3", "dot18", -1, -1, CVector(1630.407, 410.537, 2280.801), Quaternion(0.000, -0.146, 0.000, 0.989), 0)

			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE01", -1, -1, CVector(1644.596, 404.824, 2159.978), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE02", -1, -1, CVector(1646.413, 405.851, 2207.808), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE03", -1, -1, CVector(1728.143, 415.082, 2174.879), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE04", -1, -1, CVector(1725.266, 403.977, 2278.748), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE05", -1, -1, CVector(1681.030, 408.336, 2243.385), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE06", -1, -1, CVector(1692.812, 409.149, 2221.491), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			
			CreateEffectInsertedInRemove( "ET_PS_VEH_EXP1_MED1", CVector(1644.596, 404.824, 2159.978), Quaternion(0.0000, 0.0000, 0.0000, 1.0000), true )
			CreateEffectInsertedInRemove( "ET_PS_VEH_EXP1_MED1", CVector(1681.030, 408.336, 2243.385), Quaternion(0.0000, 0.0000, 0.0000, 1.0000), true )
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="DirRolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="Dir_loc" />
		<script>
			TActivate("DirRolikBegin")
			CompleteQuest("DecideWay")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="TrapRolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="Trap_loc" />
		<script>
			TActivate("TrapRolikBegin")
			CompleteQuest("GrabItems")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="PSSRolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="SerafimaFight_loc" />
		<script>
			CompleteQuest("SaveSerafimaCome")
			TActivate("PSSRolikBegin")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="SaveSeraTrig" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="PohititAd" />
		<script>
			CompleteQuest("SaveSerafimaFight")
			
			TActivate("ASSRolikBegin")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trCaravanToStation3sec" active="0">
		<event timeout="3" eventid="GE_TIME_PERIOD" />
		<script>
			GetEntityByName("Serafima"):SetExternalPathByName("SeraPath")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trCaravanToStationINPLACE" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="LootAtStation_loc" />
		<script>
			TDeactivate( "trCaravanToStationDIE" )
			TDeactivate( "trCaravanToStationLength" )

			TActivate("StationRolikBegin")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trCaravanToStationDIE" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="Serafima" />
		<script>

			TActivate("STRolikBegin")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trCaravanToStationLength" active="0">
		<event timeout="1" eventid="GE_TIME_PERIOD" />
		<script>
			local run = GetEntityByName("Serafima")
			local pl = GetPlayerVehicle()
			local len

			if run and run:IsAlive() then
				len = Dist(pl, run)
				if (len > 75) then
					run:SetCustomLinearVelocity( 0 )
					run:SetThrottle( 0 )
				end
			end
		</script>
	</trigger>

	<trigger Name="trCaravanToHome3sec" active="0">
		<event timeout="3" eventid="GE_TIME_PERIOD" />
		<script>
			GetEntityByName("Serafima"):SetExternalPathByName("SeraPath2")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trCaravanToHomeINPLACE" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="SerHome_loc" />
		<script>
			TDeactivate( "trCaravanToHomeDIE" )
			TDeactivate( "trCaravanToHomeLength" )

			CompleteQuest("SerafimaHome1")

			TActivate("HomeRolikBegin")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trCaravanToHomeDIE" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="Serafima" />
		<script>

			TActivate("STRolikBegin")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trCaravanToHomeLength" active="0">
		<event timeout="1" eventid="GE_TIME_PERIOD" />
		<script>
			local run = GetEntityByName("Serafima")
			local pl = GetPlayerVehicle()
			local len

			if run and run:IsAlive() then
				len = Dist(pl, run)
				if (len > 75) then
					run:SetCustomLinearVelocity( 0 )
					run:SetThrottle( 0 )
				end
			end
		</script>
	</trigger>

	<trigger Name="trCaravanToVillage3sec" active="0">
		<event timeout="3" eventid="GE_TIME_PERIOD" />
		<script>
			GetEntityByName("SeraDoz1"):SetExternalPathByName("SeraPath3")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trCaravanToVillageINPLACE" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="SerVill_loc" />
		<script>
			TDeactivate( "trCaravanToVillageDIE" )
			TDeactivate( "trCaravanToVillageLength" )
			
			local ppz = GetEntityByName("SeraDoz1")
			if ppz then ppz:setGodMode(1) end
			
			SetVar("Serafima",1)

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trCaravanToVillageDIE" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="SeraDoz1" />
		<script>

			TActivate("STRolikBegin")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trCaravanToVillageLength" active="0">
		<event timeout="1" eventid="GE_TIME_PERIOD" />
		<script>
			local run = GetEntityByName("SeraDoz1")
			local pl = GetPlayerVehicle()
			local len

			if run and run:IsAlive() then
				len = Dist(pl, run)
				if (len > 75) then
					run:SetCustomLinearVelocity( 0 )
					run:SetThrottle( 0 )
				end
			end
		</script>
	</trigger>

	<trigger Name="TalkToSerrafima" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="SerTalk_loc" />
		<script>
		
			StartConversation( "Serrafima" )

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trBenDialogActivate" active="0">
		<event        timeout="3"        eventid="GE_TIME_PERIOD" />
		<script>
			CheckPlayerVehicle()
		</script>
	</trigger>

	<trigger Name="MBRolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="MoskaBattle_loc" />
		<script>
			CompleteQuest("CaptureMoskaBefore")
		
			TActivate("MBRolikBegin")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trAdeptArmyDIE" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="AdeptArmy" />
		<script>
			CompleteQuest("CaptureMoskaDuring")

			SetTolerance(1100,1091,RS_ALLY)
			SetTolerance(1091,1088,RS_ALLY)
			SetTolerance(1100,1088,RS_ALLY)
			SaveAllToleranceStatus(RS_NEUTRAL)
			local Plf = GetPlayerVehicle()
			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			Plf:SetCustomLinearVelocity(0)
			Plf:SetThrottle(0)

			FlyAround(6, 0, 15, 17, PlfCoor, PlfID, 1, 1 )
			StartCinematic()
			
			AddCinematicMessage( 62, 1 )
			AddCinematicMessage( 63, 0.1 )
			
			local ol1 = GetEntityByName("OLArmy_vehicle_0")
			if ol1 then ol1:Remove() end
			local ol2 = GetEntityByName("OLArmy_vehicle_1")
			if ol2 then ol2:Remove() end
			local ol3 = GetEntityByName("OLArmy_vehicle_2")
			if ol3 then ol3:Remove() end
			
			TActivate("trAdeptArmyDIEEND")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trAdeptArmyDIEEND" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			RestoreAllToleranceStatus()
			
			StopPlayingCustomMusic()
			
			SetCameraBehindPlayerVehicle()
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trVil1st" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="Village1_loc" />
		<script>
			TeamCreate("AdeptArmyVil1",1089,CVector(2461.162, 257.495, 1564.141),{"AKF_Belaz2", "AKF_Cruiser1", "AKF_Belaz1", "AKF_Cruiser2"}, CVector(2745.438, 257.598, 1325.056), 1)

			CompleteQuest("DefendVillagePre1")
			
			TActivate("trVil1stDIE")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trVil1stDIE" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="AdeptArmyVil1" />
		<script>

			CompleteQuest("DefendVillage1")

			SaveAllToleranceStatus(RS_NEUTRAL)
			
			Fly("FLRolikCam", CINEMATIC_NO_AIM, 0, 17, 1, 1 )
			StartCinematic()
			
			AddCinematicMessage( 64, 0.1 )
			AddCinematicMessage( 65, 1 )
			
			TActivate("FLRolikFade")
			TActivate("FLRolikEnd")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="FLRolikFade" active="0">
		<event eventid="GE_CINEMATIC_ENTER_FADE_IN" ObjName="Player1" />
		<script>
			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetCustomControlEnabled( true )
				vehPlayer:SetCustomLinearVelocity( 0 )
				vehPlayer:SetThrottle( 0 )
				vehPlayer:SetCustomControlEnabled( false )
				vehPlayer:SetGamePositionOnGround( CVector(2877.028, 255.836, 1224.978))
				vehPlayer:SetRotation(Quaternion(0.001, 0.314, 0.001, -0.950))
			end
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="FLRolikEnd" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			RestoreAllToleranceStatus()
			
			SetCameraBehindPlayerVehicle()
			
			SetTolerance(1100,1088,RS_ALLY)
			
			TActivate("trVil2nd")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trVil2nd" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="Village2_loc" />
		<script>
			TeamCreate("AdeptArmyVil2",1089,CVector(1006.921, 275.372, 2434.896),{"AKF_Belaz2", "AKF_Cruiser1", "AKF_Belaz1"},CVector(658.125, 257.602, 2556.624),1)

			CompleteQuest("DefendVillagePre2")
			
			TActivate("trVil2ndDIE")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trVil2ndDIE" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="AdeptArmyVil2" />
		<script>
			
			SetVar("Serafima",2)
			
			CompleteQuest("DefendVillage2")
			
			SetTolerance(1100,1088,RS_ALLY)
			
			StartConversation( "LisaPlen" )
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="LisaFollow" active="0">
		<event	timeout="0.01"		eventid="GE_TIME_PERIOD" />
		<script>
			TeamCreate("CARLISAE",1042,CVector(727.827, 255.000, 2515.639),{"LisaCar"})
			
			local vehLisa = GetEntityByName("CARLISAE_vehicle_0")
			if vehLisa then
				vehLisa:SetSkin(2)
				vehLisa:setImmortalMode(1)
			end
			
			local newControllerId = CreateNewObject {
				prototypeName	= "someNPCMotionController",
				objName	= "LisaCont"
			}

			local newController = GetEntityByID(newControllerId)

			local FVehicle = GetEntityByName("CARLISAE_vehicle_0")

			if newController and FVehicle then
				newController:setVehicleUnderControl(FVehicle)
			end
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="LisaDelete" active="0">
		<event	timeout="1"		eventid="GE_TIME_PERIOD" />
		<script>
			local FVehicle = GetEntityByName("CARLISAE_vehicle_0")
			if FVehicle then FVehicle:Remove() end
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trTEST" active="0">
		<event	timeout="0.01"		eventid="GE_TIME_PERIOD" />
		<script>
			
			CreateVehicleEx("StarostaCar","StarostaDEAD",CVector(1681.292, 347.926, 2090.948), 1042)
			local vehStar = GetEntityByName("StarostaDEAD")
			if vehStar then
				vehStar:SetRotation(Quaternion(-0.040, 0.716, 0.009, 0.697))
				vehStar:SetSkin(2)
				vehStar:SetExternalPathByName("StarostaFinalPath")
			end
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="PKERolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="PreKateberg_loc" />
		<script>
			TActivate("PKERolikBegin")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="KateAdeptDIE" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="AdeptArmy1" />
		<script>
			CompleteQuest("CaptureKatebergFight")
			
			SetTolerance(1100,1089,RS_ALLY)
			SetTolerance(1088,1089,RS_ALLY)
			local ol1 = GetEntityByName("OLArmy1_vehicle_0")
			if ol1 then ol1:Remove() end
			local ol2 = GetEntityByName("OLArmy1_vehicle_1")
			if ol2 then ol2:Remove() end
			local ol3 = GetEntityByName("OLArmy1_vehicle_2")
			if ol3 then ol3:Remove() end
			
			local Plf = GetPlayerVehicle()
			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			Plf:SetCustomLinearVelocity(0)
			Plf:SetThrottle(0)

			FlyAround(6, 0, 25, 46.5, PlfCoor, PlfID, 1, 1 )
			StartCinematic()
			
			AddCinematicMessage( 66, 1 )
			AddCinematicMessage( 67, 0.1 )
			AddCinematicMessage( 68, 0.1 )
			AddCinematicMessage( 69, 0.1 )
			AddCinematicMessage( 691, 0.1 )
			
			TActivate("FGRolikStart")
			
			local town = GetEntityByName ("TheTown")
			if town then
				town:SetRuined(true)
			end
			
			AddQuestItem("quest_boat_digital")
			AddFadingMsgByStrIdFormatted( "fm_player_add_thing", "quest_boat_digital")
			
			SetTolerance(1100,1088,RS_ALLY)
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="triggerExitToMap14" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="ToR1M4" />
		<script>
			local b = SpawnMessageBox( "8801" )
			if b == 1 then
				PassToMap("r1m4", "FromR1M6", -1 )
				
			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetCustomLinearVelocity( 0 )
				vehPlayer:SetThrottle( 0 )
			end
			else
				local vehPlayer = GetPlayerVehicle()
				if vehPlayer then
					vehPlayer:SetGamePositionOnGround( CVector(271.465, 256.071, 1736.162))
					vehPlayer:SetRotation(Quaternion(-0.000, 0.526, 0.000, 0.850))
					vehPlayer:SetCustomLinearVelocity( 0 )
					vehPlayer:SetThrottle( 0 )
				end
			end
 		</script>
	</trigger>

	<trigger Name="triggerExitToMap15" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="ToR1M5" />
		<script>
			local b = SpawnMessageBox( "8801" )
			if b == 1 then
			
				local fire1 = GetEntityByName("FIRE01")
				if fire1 then fire1:Remove() end
				local fire2 = GetEntityByName("FIRE02")
				if fire2 then fire2:Remove() end
				local fire3 = GetEntityByName("FIRE03")
				if fire3 then fire3:Remove() end
				local fire4 = GetEntityByName("FIRE04")
				if fire4 then fire4:Remove() end
				local fire5 = GetEntityByName("FIRE05")
				if fire5 then fire5:Remove() end
				local fire6 = GetEntityByName("FIRE06")
				if fire6 then fire6:Remove() end
				
				PassToMap("r1m5", "FromR1M6", -1 )
				
				local vehPlayer = GetPlayerVehicle()
				if vehPlayer then
					vehPlayer:SetCustomLinearVelocity( 0 )
					vehPlayer:SetThrottle( 0 )
				end
				
				if QuestStatus("GoToMudrec2")==Q_TAKEN or QuestStatus("GoToMudr_Quest2")==Q_TAKEN then
					CompleteQuestIfTaken("GoToMudrec2")
					CompleteQuestIfTaken("GoToMudr_Quest2")
				end
			else
				local vehPlayer = GetPlayerVehicle()
				if vehPlayer then
					vehPlayer:SetGamePositionOnGround( CVector(3768.328, 259.453, 3779.808))
					vehPlayer:SetRotation(Quaternion(-0.026, 0.920, -0.061, -0.386))
					vehPlayer:SetCustomLinearVelocity( 0 )
					vehPlayer:SetThrottle( 0 )
				end
			end
 		</script>
	</trigger>

	<trigger Name="FGRolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="Uplyli_loc" />
		<script>
			CompleteQuest("GoToMudrec1")
			
			local g1 = GetEntityByName("gate1")
			if g1 then g1:Remove() end
			local g2 = GetEntityByName("gate2")
			if g2 then g2:Remove() end
			local g3 = GetEntityByName("gate3")
			if g3 then g3:Remove() end
			local g4 = GetEntityByName("gate4")
			if g4 then g4:Remove() end
			
			TActivate("FGRolikBegin")
			TActivate("triggerExitToMap15")
			TActivate("triggerExitToMap14")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="KLRolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="Zasada_loc" />
		<script>
			CompleteQuest("KillStar1_Quest1")
			TActivate("KLRolikBegin")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="KL2RolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="Zasada2_loc" />
		<script>
			CompleteQuest("KillStar1_Quest2")
			TActivate("KL2RolikBegin")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="TSRolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="SerafimaFight_loc" />
		<script>
			TActivate("TSRolikBegin")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="LocalsArmyDIE" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="LocalsArmy" />
		<script>
			CompleteQuest("TortSera_Quest2")

			SaveAllToleranceStatus(RS_NEUTRAL)
			
			local Plf = GetPlayerVehicle()
			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			Plf:SetCustomLinearVelocity(0)
			Plf:SetThrottle(0)

			FlyAround(6, 0, 25, 19, PlfCoor, PlfID, 1, 1 )
			StartCinematic()
			
			AddCinematicMessage( 96, 1 )
			AddCinematicMessage( 97, 0.1 )

			TActivate("LocalsArmyDIE_END")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="LocalsArmyDIE_END" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			RestoreAllToleranceStatus()
			
			SetCameraBehindPlayerVehicle()

			local aal1 = GetEntityByName("AdeptAlly_vehicle_0")
			if aal1 then aal1:Remove() end
			local aal2 = GetEntityByName("AdeptAlly_vehicle_1")
			if aal2 then aal2:Remove() end

			SetTolerance(1100, 1089, RS_ALLY)
			
			local tp = GetEntityByName("TheTown")
			tp:SetOpenGateToPlayer( true )
			
			SetConditionalClosingForTown( "TheTown", "r1m6", false )
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="TraktorDEAD" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="Dozz" />
		<script>
			CompleteQuest("KillStar2_Quest1")
			TActivate("BV1RolikStart")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="TraktorReady" active="0">
		<event	timeout="0.01"		eventid="GE_TIME_PERIOD" />
		<script>
			CreateVehicleEx("Traktor01","Dozz", CVector(1446.528, 255.827, 2801.617), 1088)
			local doz = GetEntityByName("Dozz")
			if doz then
				doz:SetRotation(Quaternion(0.001, 0.849, 0.002, -0.529))
			end

			TActivate("TraktorDEAD")

			CompleteQuest("TortSera_Quest3")

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="BV1RolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="BurnVil1_loc" />
		<script>
			TActivate("BV1RolikBegin")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="BV2RolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="BurnVil2_loc" />
		<script>
			TActivate("BV2RolikBegin")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="BV1DEAD" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="LocalsDef" />
		<script>
			CompleteQuest("KillStar2_Quest2")
			
			StopPlayingCustomMusic()
			
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE01", -1, -1, CVector(597.067, 255.000, 2583.551), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE02", -1, -1, CVector(600.689, 255.000, 2630.569), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE03", -1, -1, CVector(641.024, 255.041, 2541.731), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			
			local FVeh = GetEntityByName("AdeptAttack_vehicle_0")
			if FVeh then FVeh:Remove() end
			local FVeh2 = GetEntityByName("AdeptAttack_vehicle_1")
			if FVeh2 then FVeh2:Remove() end
			
			local Plf = GetPlayerVehicle()
			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			Plf:SetCustomLinearVelocity(0)
			Plf:SetThrottle(0)

			SaveAllToleranceStatus(RS_NEUTRAL)

			FlyAround(6, 0, 25, 8, PlfCoor, PlfID, 1, 1 )
			StartCinematic()
			
			AddCinematicMessage( 102, 1 )
			
			TActivate("BV2RolikStart")
			TActivate("BVDEADEND")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="BVDEADEND" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			RestoreAllToleranceStatus()

			SetCameraBehindPlayerVehicle()

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="BV2DEAD" active="0">
		<event eventid="GE_OBJECT_DIE" ObjName="LocalsDef1" />
		<script>
			CompleteQuest("KillStar2_Quest3")
			
			StopPlayingCustomMusic()
			
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE04", -1, -1, CVector(2899.995, 254.995, 1174.953), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE05", -1, -1, CVector(2902.930, 255.000, 1134.107), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			CreateNewSgNodeObject("ET_PS_HOUSE_MED_FIRE", "FIRE06", -1, -1, CVector(2942.700, 254.890, 1164.848), Quaternion(0.0000, 0.0000, 0.0000, 1.0000))
			
			local FVeh = GetEntityByName("AdeptAttack1_vehicle_0")
			if FVeh then FVeh:Remove() end
			local FVeh2 = GetEntityByName("AdeptAttack1_vehicle_1")
			if FVeh2 then FVeh2:Remove() end
			
			local Plf = GetPlayerVehicle()
			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			Plf:SetCustomLinearVelocity(0)
			Plf:SetThrottle(0)

			SaveAllToleranceStatus(RS_NEUTRAL)

			FlyAround(6, 0, 25, 12, PlfCoor, PlfID, 1, 1 )
			StartCinematic()
			
			AddCinematicMessage( 101, 1 )

			TActivate("BVDEADEND")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="FSSRolikStart" active="0">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="Zasada2_loc" />
		<script>
			TActivate("FSSRolikBegin")
			CompleteQuest("KillStar2_Quest5")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="KorablikSink" active="0">
		<event	timeout="9"		eventid="GE_TIME_PERIOD" />
		<script>
			local moverId = CreateNewObject { prototypeName	= "cinematicMover", objName  = "" }
			local mover = GetEntityByID( moverId ) 
			local controlledObj = GetEntityByName("korablik")
			if controlledObj then
				mover:SetObjAndPath( controlledObj:GetId(), "PotopPath", 31 )
			end
			
			CreateEffectInsertedInRemove( "ET_PS_VEH_EXP1_MED1", CVector(122.370, 254.706, 792.327), Quaternion(0.0000, 0.0000, 0.0000, 1.0000), true )
			CreateEffectInsertedInRemove( "ET_PS_VEH_EXP1_MED1", CVector(92.070, 254.706, 766.984), Quaternion(0.0000, 0.0000, 0.0000, 1.0000), true )
			CreateEffectInsertedInRemove( "ET_PS_VEH_EXP1_MED1", CVector(58.288, 254.706, 741.405), Quaternion(0.0000, 0.0000, 0.0000, 1.0000), true )
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="OpenTheBridge" active="0">
		<event	timeout="0.01"		eventid="GE_TIME_PERIOD" />
		<script>
			local g1 = GetEntityByName("gate1")
			if g1 then g1:Remove() end
			local g2 = GetEntityByName("gate2")
			if g2 then g2:Remove() end
			local g3 = GetEntityByName("gate3")
			if g3 then g3:Remove() end
			local g4 = GetEntityByName("gate4")
			if g4 then g4:Remove() end
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="SerafimaVehRemove" active="0">
		<event	timeout="3"		eventid="GE_TIME_PERIOD" />
		<script>
			if QuestStatus("CaptureMoskaBefore")==Q_TAKEN then
				local ser = GetEntityByName("SeraDoz1")
				if ser then ser:Remove() end
			end
			
			if QuestStatus("SerafimaHome2")==Q_TAKEN then
				local ser = GetEntityByName("Serafima")
				if ser then ser:Remove() end
			end
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="ETLLRolikStart" active="1">
		<event	timeout="0.01"		eventid="GE_TIME_PERIOD" />
		<script>
			if QuestStatus("LastIspytanie_Quest2")==Q_TAKEN then
				TActivate("ETLLRolikBegin")
				CompleteQuest("LastIspytanie_Quest2")
				trigger:Deactivate()
			end
		</script>
	</trigger>

	<trigger Name="LocoCreate" active="0">
		<event eventid="GE_GAME_START" ObjName="Player1" />
		<script>
			CreateNewDummyObject( "rr_locovagon", "lococo", -1, -1, CVector(2304.984, 255.750, 2849.864), Quaternion(0.0000, 0.1500, 0.0000, 0.9887), 0)
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="StartFirstRolikk" active="1">
		<event eventid="GE_GAME_START" ObjName="Player1" />
		<script>
			if QuestStatus("GoToLiden_Quest3")==Q_TAKEN then
				CompleteQuest("GoToLiden_Quest3")
				TActivate("StartRolik_begin")
				trigger:Deactivate()
			end
		</script>
	</trigger>

	<trigger Name="trLisaZapret1" active="1">
		<event eventid="GE_OBJECT_ENTERS_LOCATION" ObjName="LisaZapret_loc" />
		<script>
			local Plf = GetPlayerVehicle()
			Plf:SetThrottle( 0 )
			Plf:SetCustomLinearVelocity( 0 )

			local PlfID = GetPlayerVehicleId()
			local PlfCoor = Plf:GetPosition()
			PlfCoor.y = PlfCoor.y + 25*0.74
			PlfCoor.z = PlfCoor.z + 25*0.74

			SaveAllToleranceStatus(RS_NEUTRAL)

			FlyAround(1, 0, 25, 7, PlfCoor, PlfID, 1, 1 )
			StartCinematic()

			AddCinematicMessage( 116, 1 )

			TActivate ("trLisaZapret2")
			TActivate ("trLisaZapret3")
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trLisaZapret2" active="0">
		<event eventid="GE_CINEMATIC_ENTER_FADE_IN" ObjName="Player1" />
		<script>
			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetCustomControlEnabled( true )
				vehPlayer:SetCustomLinearVelocity( 0 )
				vehPlayer:SetThrottle( 0 )
				vehPlayer:SetCustomControlEnabled( false )
			end
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trLisaZapret3" active="0">
		<event eventid="GE_END_CINEMATIC" ObjName="Player1" />
		<event eventid="GE_SKIP_CINEMATIC" ObjName="Player1" />
		<script>
			RestoreAllToleranceStatus()
			
			local vehPlayer = GetPlayerVehicle()
			if vehPlayer then
				vehPlayer:SetGamePositionOnGround( CVector(1222.082, 257.953, 997.432))
				vehPlayer:SetRotation(Quaternion(0.016, -0.763, 0.019, 0.646))
			end
			
			TDeactivate("trLisaZapret2")
			TActivate("trLisaZapret1")
			
			trigger:Deactivate()
		</script>
	</trigger>

</triggers>